# μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•λΌ
## μ¶”μƒ ν΄λμ¤λ‘ μΈν„°νμ΄μ¤κ°€ λ­”λ°?
μλ°”κ°€ μ κ³µν•λ” λ‹¤μ¤‘ κµ¬ν„ λ©”μ»¤λ‹μ¦

</br>

### μ¶”μƒ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ¥Ό λΉ„κµν•΄λ³΄μ
### μ¶”μƒ ν΄λμ¤
```java
abstract class Vehicle {
    abstract void startEngine();
}

class Car extends Vehicle {
    @Override
    void startEngine() {
        System.out.println("Car μ—”μ§„");
    }
}

// λ λ‹¤λ¥Έ μ¶”μƒ ν΄λμ¤ Machine
abstract class Machine {
    abstract void operate();
}

public class Main {
    public static void main(String[] args) {
        Car myCar = new Car();
        myCar.startEngine();
    }
}
```

`Car ν΄λμ¤`κ°€ `Machine`κ³Ό `Vehicle` λ‘ λ‹¤ μƒμ†λ°›μ„ μ μ—†μµλ‹λ‹¤ **(μλ°”λ” λ‹¨μΌμƒμ†!)**

</br>

β—οΈ λ§μ•½ μ•„λμ™€ κ°™μ΄ μ½”λ“λ¥Ό μ‘μ„±ν•κ² λλ©΄ `μ»΄νμΌ μ—λ¬`κ°€ λ‚©λ‹λ‹¤ β—οΈ

```java
class Car extends Vehicle, Machine {
    ...
}
```

</br>

### μΈν„°νμ΄μ¤
```java
interface Drivable {
    void drive();
}

interface Repairable {
    void repair();
}

class Car implements Drivable, Repairable {
    @Override
    public void drive() {
        System.out.println("Carκ°€ μ΄μ „μ¤‘μ…λ‹λ‹¤");
    }

    @Override
    public void repair() {
        System.out.println("Carκ°€ μλ¦¬λμ—μµλ‹λ‹¤");
    }
}

interface Operatable {
    void operate();
}

class AdvancedCar implements Drivable, Repairable, Operatable {
    @Override
    public void drive() {
        System.out.println("AdvancedCarκ°€ μ΄μ „μ¤‘μ…λ‹λ‹¤");
    }

    @Override
    public void repair() {
        System.out.println("AdvancedCarκ°€ μλ¦¬λμ—μµλ‹λ‹¤");
    }

    @Override
    public void operate() {
        System.out.println("AdvancedCarκ°€ μ‘λ™μ¤‘μ…λ‹λ‹¤");
    }
}

public class Main {
    public static void main(String[] args) {
        Car myCar = new Car();
        myCar.drive();
        myCar.repair();
        
        AdvancedCar myAdvancedCar = new AdvancedCar();
        myAdvancedCar.drive();
        myAdvancedCar.repair();
        myAdvancedCar.operate();
    }
}
```

μ΄μ²λΌ μΈν„°νμ΄μ¤λ” `λ‹¤μ¤‘ μƒμ†κ³Ό μ μ‚¬ν• ν¨κ³Ό`λ¥Ό λ‚Ό μ μμµλ‹λ‹¤

</br>

## μΈν„°νμ΄μ¤μ μ¥μ 

## 1οΈβƒ£ κΈ°μ΅΄ ν΄λμ¤μ—λ„ μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό μ‰½κ² κµ¬ν„ν•  μ μλ‹¤
μ„μ μ¶”μƒ ν΄λμ¤μ— μ•„λμ™€ κ°™μ΄ μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό μ‰½κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤

```java
// μΈν„°νμ΄μ¤ μƒμ„±
interface ElectricVehicle {
    void chargeBattery();
}

// κΈ°μ΅΄ μ¶”μƒ ν΄λμ¤(extends)λ¥Ό μƒμ†λ°›κ³  μΈν„°νμ΄μ¤(implements)λ¥Ό κµ¬ν„ν•λ„λ΅ μ½”λ“ λ³€κ²½
class Car extends Vehicle implements ElectricVehicle {
    @Override
    void startEngine() {
        System.out.println("Car engine started");
    }

    @Override
    public void chargeBattery() {
        System.out.println("Car battery is charging");
    }

    void drive() {
        System.out.println("Car is driving");
    }
}

public class Main {
    public static void main(String[] args) {
        Car myCar = new Car();
        myCar.startEngine();
        myCar.drive();
        myCar.chargeBattery();
    }
}
```

</br>

## 2οΈβƒ£ μΈν„°νμ΄μ¤λ” λ―Ήμ¤μΈ μ •μμ— μ•μ„±λ§μ¶¤μ΄λ‹¤
```java
class Person implements Comparable<Person> {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }

    @Override
    public int compareTo(Person other) {
        // λ‚μ΄λ¥Ό κΈ°μ¤€μΌλ΅ λΉ„κµ
        return Integer.compare(this.age, other.age);
    }

    @Override
    public String toString() {
        return name + " (" + age + ")";
    }
}
```

κ·ΈλΌ `Person ν΄λμ¤μ—μ„ compareTo λ©”μ„λ“λ¥Ό ν¬ν•¨`ν•κ³  μλ‹¤

`μ¶”μƒ ν΄λμ¤`μ κ²½μ°μ—λ” **κΈ°μ΅΄ ν΄λμ¤μ— λ§μ”μΈ μ μ—†μΌλ―€λ΅** `μ¶”μƒ ν΄λμ¤`μ—λ” **λ―Ήμ¤μΈμ„ μ •μν•  μ μ—†λ‹¤**

</br>

### 3οΈβƒ£ μΈν„°νμ΄μ¤λ΅λ” κ³„μΈµκµ¬μ΅°κ°€ μ—†λ” νƒ€μ… ν”„λ μ„μ›ν¬λ¥Ό λ§λ“¤ μ μλ‹¤
μμ‹λ΅λ” `κ°€μ(Singer) μΈν„°νμ΄μ¤`μ™€ `μ‘κ³΅κ°€(Songwriter) μΈν„°νμ΄μ¤`κ°€ μλ‹¤

```java
public interface Singer {
    AudioClip sing(Song s);
}

public interface Songwriter {
    Song compose(int chartPosition);
}
```

μ΄ μ½”λ“μ²λΌ `Singer` μ™€ `Songwriter` λ¨λ‘λ¥Ό κµ¬ν„ν•΄λ„ λ¬Έμ λμ§€ μ•λ”λ‹¤

μ•„λμ²λΌ μ  3μ μΈν„°νμ΄μ¤λ¥Ό μ •μν•  μλ„ μλ‹¤

```java
public interface SingerSongwriter extends Singer, Songwriter {
    AudioClip strum();
    void actSensitive();
}
```

</br>

## π¤” μ™ μ΄λ ‡κ² μΈν„°νμ΄μ¤λ¥Ό μ„ νΈν• κΉ?
: κ°™μ€ κµ¬μ΅°λ¥Ό ν΄λμ¤λ΅ λ§λ“¤λ ¤λ©΄ κ°€λ¥ν• μ΅°ν•© μ „λ¶€λ¥Ό κ°κ°μ ν΄λμ¤λ΅ μ •μν•λ©΄ **κ³ λ„λΉ„λ§ κ³„μΈµκµ¬μ΅°**κ°€ λ§λ“¤μ–΄μ§ κ²ƒμ΄λ‹¤

```java
abstract class Product {
    abstract void describe();
}

// Red μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
abstract class RedProduct extends Product {
    @Override
    void describe() {
        System.out.print("Red ");
    }
}

// Blue μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
abstract class BlueProduct extends Product {
    @Override
    void describe() {
        System.out.print("Blue ");
    }
}

// Large μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
abstract class LargeProduct extends Product {
    @Override
    void describe() {
        System.out.print("Large ");
    }
}

// Small μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
abstract class SmallProduct extends Product {
    @Override
    void describe() {
        System.out.print("Small ");
    }
}

// Red&Large μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
class RedLargeProduct extends RedProduct {
    @Override
    void describe() {
        super.describe();
        new LargeProduct() {}.describe();
        System.out.println("Product");
    }
}

// Red&Small μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
class RedSmallProduct extends RedProduct {
    @Override
    void describe() {
        super.describe();
        new SmallProduct() {}.describe();
        System.out.println("Product");
    }
}

// Blue&Large μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
class BlueLargeProduct extends BlueProduct {
    @Override
    void describe() {
        super.describe();
        new LargeProduct() {}.describe();
        System.out.println("Product");
    }
}

// Blue&Small μ†μ„±μ„ κ°€μ§„ ν΄λμ¤
class BlueSmallProduct extends BlueProduct {
    @Override
    void describe() {
        super.describe();
        new SmallProduct() {}.describe();
        System.out.println("Product");
    }
}

public class Main {
    public static void main(String[] args) {
        Product redLarge = new RedLargeProduct();
        Product redSmall = new RedSmallProduct();
        Product blueLarge = new BlueLargeProduct();
        Product blueSmall = new BlueSmallProduct();

        redLarge.describe();  // μ¶λ ¥: Red Large Product
        redSmall.describe();  // μ¶λ ¥: Red Small Product
        blueLarge.describe(); // μ¶λ ¥: Blue Large Product
        blueSmall.describe(); // μ¶λ ¥: Blue Small Product
    }
}
```

μ—¬κΈ°μ„ μ†μ„±μ€ λ‘κ°€μ§€μ΄λ‹¤ **(μƒ‰μƒκ³Ό ν¬κΈ°)**

κ·Όλ° μ—¬κΈ°μ— `λ¬΄κ²λΌλ” μ†μ„±κ³Ό λ‹¤λ¥Έ μ†μ„±λ“¤λ„ μ¶”κ°€ν•κ² λλ©΄` ν΄λμ¤μ μκ°€ κΈ°ν•κΈ‰μμ μΌλ΅ μ¦κ°€ν•κ² λ©λ‹λ‹¤.

</br>

## λ””ν΄νΈ λ©”μ„λ“
: μΈν„°νμ΄μ¤μ λ©”μ„λ“ μ¤‘μ—μ„ κµ¬ν„ λ°©λ²•μ΄ λ…λ°±ν• κ²ƒμ΄ μλ” λ©”μ„λ“

## κ·Όλ° λ””ν΄νΈ λ©”μ„λ“λ” μ μ•½μ΄ λ§λ‹¤
### 1οΈβƒ£ equalasμ™€ hashCodeλ” λ””ν΄νΈ λ©”μ„λ“λ΅ μ κ³µλμ„λ” μ•λλ‹¤
```java
interface BadExample {
    default boolean equals(Object obj) {
        return this == obj;
    }

    default int hashCode() {
        return System.identityHashCode(this);
    }
}

// ν΄λμ¤μ—μ„ κµ¬ν„λ κ²½μ° λ¬Έμ  λ°μƒ κ°€λ¥
class Example implements BadExample {
    private String name;

    Example(String name) {
        this.name = name;
    }

    // μ¬μ •μν•μ§€ μ•μ
}

public class Main {
    public static void main(String[] args) {
        Example obj1 = new Example("ν…μ¤νΈ1");
        Example obj2 = new Example("ν…μ¤νΈ1");

        // λ™λ“±μ„± λΉ„κµκ°€ μλ»λ¨
        System.out.println(obj1.equals(obj2)); // false
        System.out.println(obj1.hashCode() == obj2.hashCode()); // false
    }
}
```

μλ„λ” true κ°€ λ‚μ™€μ•Ό ν•μ§€λ§ false κ°€ λ‚μ™”λ‹¤

`equals`μ™€ `hashCode` λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“λ΅ μ κ³µλλ©΄ κ°μ²΄μ λ™λ“±μ„± λΉ„κµ λ΅μ§μ΄ μ„μ™€κ°™μ΄ μλ„μΉ μ•κ² λ™μ‘ν•  μ μλ‹¤

</br>

### 2οΈβƒ£ μΈν„°νμ΄μ¤λ” μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό κ°€μ§ μ μ—†λ‹¤
```java
interface MyInterface {
    int myField; // μ»΄νμΌ μ—λ¬

    // μƒμ ν•„λ“λ” κ°€λ¥ν•λ‹¤
    int MY_CONSTANT = 100;

    void doSomething();
}

class MyClass implements MyInterface {
    @Override
    public void doSomething() {
        System.out.println("μμ‹λ™μ‘1");
    }
}

public class Main {
    public static void main(String[] args) {
        MyClass obj = new MyClass();
        obj.doSomething();
        System.out.println(MyInterface.MY_CONSTANT); // 100
    }
}
```

interface μ—μ„ `int myField;` μ™€ κ°™μ΄ μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό κ°€μ§ μ μ—†λ‹¤

</br>

### 3οΈβƒ£ ν”„λ΅κ·Έλλ¨Έκ°€ λ§λ“¤μ§€ μ•μ€ μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μ—†λ‹¤
```java
// μλ¥Ό λ“¤μ–΄, java.util.List μΈν„°νμ΄μ¤λ” μ°λ¦¬κ°€ λ§λ“  κ²ƒμ΄ μ•„λ‹
import java.util.List;

public class Main {
    public static void main(String[] args) {
        // List μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μ—†μ
        List<String> list = new ArrayList<>();
        list.newDefaultMethod(); // μ»΄νμΌ μ—λ¬

        System.out.println("λ‚΄κ°€ κ°€μ§€κ³  μμ§€ μ•μ€ μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μ—†μµλ‹λ‹¤");
    }
}
```

</br>

## μ¶”μƒ κ³¨κ²© κµ¬ν„ : μΈν„°νμ΄μ¤μ μ¥μ  + μ¶”μƒ ν΄λμ¤μ μ¥μ 
```java
interface Shape {
    double area();
    double perimeter();
    void draw();
}

```

`Shape` μΈν„°νμ΄μ¤λ” `area`, `perimeter`, `draw` λ©”μ„λ“λ¥Ό μ„ μ–Έν•©λ‹λ‹¤.

</br>

```java
abstract class AbstractShape implements Shape {
    @Override
    public void draw() {
        System.out.println("Drawing " + getClass().getSimpleName());
    }
}
```

* `AbstractShape` μ¶”μƒ ν΄λμ¤λ” `Shape μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„`
* `draw` λ©”μ„λ“μ κΈ°λ³Έ κµ¬ν„ μ κ³µ

</br>

```java
class Circle extends AbstractShape {
    private double radius;

    public Circle(double radius) {
        this.radius = radius;
    }

    @Override
    public double area() {
        return Math.PI * radius * radius;
    }

    @Override
    public double perimeter() {
        return 2 * Math.PI * radius;
    }
}

class Rectangle extends AbstractShape {
    private double width;
    private double height;

    public Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }

    @Override
    public double area() {
        return width * height;
    }

    @Override
    public double perimeter() {
        return 2 * (width + height);
    }
}
```

</br>

* `Circle` ν΄λμ¤λ” `AbstractShapeλ¥Ό` μƒμ†λ°›μ•„ κµ¬μ²΄μ μΈ `area`μ™€ `perimeter` λ©”μ„λ“ κµ¬ν„

* `Rectangle` ν΄λμ¤λ„ `AbstractShapeλ¥Ό` μƒμ†λ°›μ•„ κµ¬μ²΄μ μΈ `area`μ™€ `perimeter` λ©”μ„λ“ κµ¬ν„

μ΄λ ‡κ² **μ¶”μƒ κ³¨κ²© κµ¬ν„ λ””μμΈ ν¨ν„΄**μ„ μ‚¬μ©ν•μ—¬ **μ½”λ“μ μ¤‘λ³µμ„ μ¤„μ΄κ³ **, **μ μ§€λ³΄μμ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤**

</br>

## π― μ •λ¦¬
1. λ‹¤μ¤‘ κµ¬ν„μ© νƒ€μ…μ€ β†’ **`μΈν„°νμ΄μ¤`**
2. μΈν„°νμ΄μ¤κ°€ λ³µμ΅ν•λ‹¤ β†’ **`κ³¨κ²© κµ¬ν„ λ””μμΈ ν¨ν„΄`** μ„ κ³ λ ¤ν•μ
3. λ””ν΄νΈ λ©”μ„λ“κ°€ κ°€λ¥ν• λ©”μ„λ“λ” μ κ³µ β†’ **`μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  κ³³μ—μ„ ν™μ©ν•λ„λ΅ ν•΄μ•Όν•λ‹¤`**
