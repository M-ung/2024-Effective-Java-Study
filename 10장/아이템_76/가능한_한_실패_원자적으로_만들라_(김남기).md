# 가능한 한 실패 원자적으로 만들라.

</br>

위의 말은 호출된 메서드가 실패하더라도 해당 객체는 메서드 호출 전 상태를 유지해야 한다는 뜻이다.

예외가 발생해도 그 객체가 정상적으로 사용할 수 있는 상태이지 않으면 사소한 예외에도 시스템이 종료되거나 복구할 수 없게 되어버릴 수 있다.

</br>

</br>

## 메서드를 실패 원자적으로 만드는 방법

</br>

1. 불변 객체로 설계하는 방법
2. 작업 수행에 앞서 매개변수의 유효성을 검사하는 방법
3. 실패할 가능성이 있는 모든 코드를 객체의 상태를 바꾸는 코드보다 앞에 배치 하는 방법
4. 객체의 임시 복사본에서 작업을 수행한 다음, 작업이 성공적으로 완료되면 원래 객체와 교체하는 방법
5. 작업 도중 발생하는 실패를 가로채는 복구 코드를 작성해 작업 전 상태로 되돌리는 방법

</br>

</br>

## 정리

</br>

결론적으로 실패하더라도 호출전 상태로 유지할 수 있게 만드는게 중요한데, 스프링에서는 적절한 트랜잭션 처리를 통해 이를 해결할 수 있지 않을까 싶다.
