# ìŠ¤íŠ¸ë¦¼ì—ì„œëŠ” ë¶€ì‘ìš© ì—†ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë¼
ìŠ¤íŠ¸ë¦¼ì€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì— ê¸°ì´ˆí•œ íŒ¨ëŸ¬ë‹¤ì„ì´ë‹¤.

</br>

ì´í•´í•˜ê¸° ì–´ë ¤ìš°ë‹ˆ ì˜ˆì‹œë¥¼ í†µí•´ ì´í•´í•´ë³´ë„ë¡ í•˜ì!

</br>

ì•„ë˜ëŠ” ë‹¨ì–´ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ì½”ë“œì´ë‹¤.
```java
public void Test1() {
    List<String> words = new ArrayList<>();
    words.add("stop");
    words.add("spot");
    words.add("trim");
    words.add("meet");
    words.add("ball");
    words.add("free");
    words.add("trim");
    words.add("meet");

    Map<String, Long> freq = new HashMap<>();

    words.stream().forEach(
            word -> freq.merge(word.toLowerCase(), 1L, Long::sum)
    );

    System.out.println("words = " + words);
    System.out.println("freq = " + freq);
}
```

</br>

* ìŠ¤íŠ¸ë¦¼ì—ì„œ **`forEach() ë©”ì„œë“œ`**ë¥¼ ì´ìš©í•œ ì½”ë“œì´ë‹¤
* ìŠ¤íŠ¸ë¦¼ì˜ ì´ì ì„ ì‚´ë¦¬ì§€ ëª»í•œ ë°˜ë³µì ì¸ ì½”ë“œì´ë‹¤
* ë§Œì•½ stream ë£¨í”„ì—ì„œ **Side-Effect ì˜ ë‚´ìš©ì´ ìˆë‹¤ë©´ ì—¬ëŸ¬ ë¬¸ì œê°€ ë°œìƒ**í•  ê²ƒì´ë‹¤

</br>

í•„ìš” ì—†ëŠ” ìŠ¤íŠ¸ë¦¼ì„ ë¹¼ê³  ë‹¤ì‹œ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì

```java
public void Test2() {
    List<String> words = new ArrayList<>();
    words.add("stop");
    words.add("spot");
    words.add("trim");
    words.add("meet");
    words.add("ball");
    words.add("free");
    words.add("trim");
    words.add("meet");

    Map<String, Long> freq = new HashMap<>();

    for (String word : words) {
        freq.merge(word.toLowerCase(), 1L, Long::sum);
    }

    System.out.println("words = " + words);
    System.out.println("freq = " + freq);
}
```

</br>

* ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ **`Test1 ë©”ì„œë“œ`**ë³´ë‹¤ í›¨ì”¬ ê¹”ë”í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
* ìŠ¤íŠ¸ë¦¼ì˜ forEach ì½”ë“œëŠ” println() ê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ì´ìš©í•´ ê³„ì‚°í•˜ë©´ í›¨ì”¬ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

</br>

> ### ê³„ì‚°ì„ í•´ì•¼í•˜ëŠ” ì½”ë“œì—ì„œëŠ” forEach ì—°ì‚°ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ê·¸ëƒ¥ for ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ë…ì„±ì´ í›¨ì”¬ ì¢‹ë‹¤!

</br>

ì´ë²ˆì—ëŠ” **ìŠ¤íŠ¸ë¦¼**ê³¼ **í•¨ìˆ˜í˜• ë©”ì„œë“œ**ë¥¼ ì‚¬ìš©í•´ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ì‘ì„±í•´ë³´ì

```java
public void Test3() {
    List<String> words = new ArrayList<>();
    words.add("stop");
    words.add("spot");
    words.add("trim");
    words.add("meet");
    words.add("ball");
    words.add("free");
    words.add("trim");
    words.add("meet");

    Map<String, Long> freq = words.stream()
                                  .collect(groupingBy(String::toLowerCase, counting()));

    System.out.println("words = " + words);
    System.out.println("freq = " + freq);
}
```

</br>

* **`Test1 ë©”ì„œë“œ`**ì™€ **`Test2 ë©”ì„œë“œ`** ë³´ë‹¤ í›¨ì”¬ ì½”ë“œê°€ ê¹”ë”í•´ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤
* ë¬¸ìì—´ì„ **`toLowerCase()`** ë¡œ ë³€í™˜í•˜ì—¬ ê·¸ë£¹í™” í•˜ê² ë‹¤ê³  ì‰½ê²Œ ìƒê°í•  ìˆ˜ ìˆë‹¤
* **key** ëŠ” **ê·¸ë£¹í™” í•œ ë‹¨ì–´**ì´ê³ , **value** ëŠ” **keyì— ëŒ€í•œ ë‹¨ì–´ì˜ ê°œìˆ˜**ì´ë‹¤
* **value** ì—ì„œ ë‹¨ì–´ì˜ ê°œìˆ˜ëŠ” **`í•¨ìˆ˜í˜• ë©”ì„œë“œì¸ counting()`** ì„ ì‚¬ìš©í•´ì„œ êµ¬í•  ìˆ˜ ìˆë‹¤

</br>

## Collectors API ì•Œì•„ë³´ê¸°
### 1. toList()
```java
public void wordFreqTest() {
    List<String> words = new ArrayList<>();
    words.add("stop");
    words.add("spot");
    words.add("trim");
    words.add("meet");
    words.add("ball");
    words.add("free");
    words.add("triM");
    words.add("TriM");
    words.add("meet");

    Map<String, Long> freq = words.stream()
                                  .collect(groupingBy(String::toLowerCase, counting()));

    List<String> topTwo = freq.keySet()
                              .stream()
                              .sorted(comparing(freq::get).reversed())
                              .limit(5)
                              .collect(Collectors.toList());

    System.out.println("words = " + words);
    System.out.println("freq = " + freq);
    System.out.println("topTwo = " + topTwo);
}
```
* **ê°€ì¥ ë§ì´ ë‚˜ì˜¤ëŠ” ë‹¨ì–´ 5ê°œë¥¼ ì¶”ì¶œ**í•˜ëŠ” ì½”ë“œì´ë‹¤
* **`stream`** ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì´ë¥¼ ì¶”ì¶œí•˜ì—¬ ì´ë¥¼ í™œìš©í•˜ëŠ” ì½”ë“œë¡œ ì‚¬ìš©í–ˆë‹¤
* **`sorted()`** ë¥¼ ì‚¬ìš©í•´ **ì •ë ¬**í•˜ì˜€ìœ¼ë©°, **reversed()** ë¥¼ í†µí•´ **ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬**ì„ í•˜ì˜€ë‹¤
* **`limit()`** ì„ ì‚¬ìš©í•´ **ê°œìˆ˜ ì œí•œ**ì„ ê±¸ì—ˆë‹¤

</br>

### 2. toMap()
```java
public class ToMapExample {
    public static void main(String[] args) {
        List<String> words = Arrays.asList("apple", "banana", "cherry", "date", "elderberry", "fig", "grape");

        // toMap()ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ìì—´ì„ í‚¤ë¡œ, ë¬¸ìì—´ ê¸¸ì´ë¥¼ ê°’ìœ¼ë¡œ í•˜ëŠ” ë§µ ìƒì„±
        Map<String, Integer> wordsMap = words.stream()
                .collect(Collectors.toMap(Function.identity(),String::length));

        // ê²°ê³¼ ì¶œë ¥
        wordsMap.forEach((word, length) -> 
            System.out.println("Word: " + word + ", Length: " + length));
    }
}
```
* **`toMap`** ì€ **ë§µì„ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ**ì…ë‹ˆë‹¤
* **`words`** ë¦¬ìŠ¤íŠ¸ì— ë‹´ê²¨ìˆëŠ” ë‚´ìš©ë“¤ì„ `stream` ê³¼ `toMap()` ì„ ì‚¬ìš©í•˜ì—¬ wordsMap ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤

</br>

### 3. groupingBy()
```java
public void wordFreq5Test() {
    List<String> words = new ArrayList<>();
    words.add("stop");
    words.add("spot");
    words.add("trim");
    words.add("meet");
    words.add("ball");
    words.add("free");
    words.add("triM");
    words.add("TriM");
    words.add("meet");

    Map<String, List<String>> alphabetizedMap = words.stream()
                                                     .collect(groupingBy(this::alphabetize));
    System.out.println("alphabetizedMap = " + alphabetizedMap);
}

private String alphabetize(String s) {
    char[] a = s.toCharArray();
    Arrays.sort(a);
    return new String(a);
}
```

* ê° ë‹¨ì–´ì— ëŒ€í•´ **ì•ŒíŒŒë²³ ìˆœìœ¼ë¡œ ë¬¸ìì—´ì„ ì •ë ¬**í•˜ê³ , **ì •ë ¬í•œ ë¬¸ìì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ì–´ë“¤ì„ ê·¸ë£¹í™”**í•©ë‹ˆë‹¤

</br>

### 4. joining()
```java
public void joiningTest() {
    List<String> food = new ArrayList<>();
    food.add("í”¼ì");
    food.add("í–„ë²„ê±°");
    food.add("ì¹˜í‚¨");

    String collect = food.stream().collect(joining(" ê·¸ë¦¬ê³  "));
    System.out.println("collect = " + collect);
}
```
* **`joining() ë©”ì„œë“œ`**ë¥¼ ì‚¬ìš©í•´ ë¬¸ìì—´ì„ í•©ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤

</br>

## ğŸ¯ ì •ë¦¬
* ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•  ë•Œ, ë¶€ì‘ìš©ì´ ì—†ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì
* `forEach` ë¥¼ ì‚¬ìš©í•  ë•, ì—°ì‚°ì„ í•˜ì§€ ë§ì
* `Collectors` ë©”ì„œë“œë¡œ ë‹¤ì–‘í•œ ì§‘ê³„ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤
